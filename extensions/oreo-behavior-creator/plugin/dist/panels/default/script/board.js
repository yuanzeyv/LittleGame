'use strict';function _0x1c15(){var _0x2b5a4a=['addVariable','delVariable','create','execute-scene-script','warning','request','get','util','tooltip','getInstance','default','updateVariable','Name\x20or\x20Type\x20cannot\x20be\x20empty!','resetProps','6594696oIlcIK','call','\x20]\x20','5498622dJUKQe','__importDefault','__createBinding','getUUIDByPath','11779570plLdsz','_onNodeValueChange','../../../utils/util','../../../utils/blackboard','The\x20target\x20must\x20be\x20a\x20child\x20of\x20the\x20root\x20node\x20of\x20the\x20BehaviorTree.','emitModify','updatePropertyUUID','_getSharedNodeUUID','getAllVariable','configurable','props','event','getOwnPropertyDescriptor','message','getDefaultValue','isEditing','length','defineProperty','9IxpHaF','value','4MywQgE','4089OcyVaU','board','isTypeNode','readFileSync','hasOwnProperty','$forceUpdate','oreo','Message','isTypeBoolean','Update\x20Variable','onCancelEditing','target','name','type','__esModule','options','common','__importStar','../../../../package.json','TYPE','getPathByUUID','prototype','837585SFfaBi','isTypeString','getVariable','428LetSgU','Blackboard','isTypeNumber','1308559yYLRvg','../../../../static/template/vue/blackboard.html','_onNodeValueChange\x20--->\x20','utf-8','path','join','scene','writable','3140725jsRNnF','isTypeBlackboard'];_0x1c15=function(){return _0x2b5a4a;};return _0x1c15();}var _0x34500d=_0x1fe9;(function(_0x2176f8,_0x2c96f0){var _0x1970de=_0x1fe9,_0x402972=_0x2176f8();while(!![]){try{var _0xc739a3=-parseInt(_0x1970de(0x112))/0x1*(-parseInt(_0x1970de(0x12b))/0x2)+parseInt(_0x1970de(0x128))/0x3+parseInt(_0x1970de(0x111))/0x4*(parseInt(_0x1970de(0x136))/0x5)+parseInt(_0x1970de(0x149))/0x6+-parseInt(_0x1970de(0x12e))/0x7+-parseInt(_0x1970de(0x146))/0x8+parseInt(_0x1970de(0x10f))/0x9*(-parseInt(_0x1970de(0xfd))/0xa);if(_0xc739a3===_0x2c96f0)break;else _0x402972['push'](_0x402972['shift']());}catch(_0x116efb){_0x402972['push'](_0x402972['shift']());}}}(_0x1c15,0x7c698));function _0x1fe9(_0x3dfff0,_0x459945){var _0x1c1513=_0x1c15();return _0x1fe9=function(_0x1fe9a9,_0x938843){_0x1fe9a9=_0x1fe9a9-0xfc;var _0x3c3396=_0x1c1513[_0x1fe9a9];return _0x3c3396;},_0x1fe9(_0x3dfff0,_0x459945);}var __createBinding=this&&this[_0x34500d(0x14b)]||(Object[_0x34500d(0x13a)]?function(_0x49a2b4,_0x2f7d5b,_0x4035df,_0x522d16){var _0x71b583=_0x34500d;void 0x0===_0x522d16&&(_0x522d16=_0x4035df);var _0x26b27c=Object[_0x71b583(0x109)](_0x2f7d5b,_0x4035df);_0x26b27c&&(_0x71b583(0x13e)in _0x26b27c?_0x2f7d5b[_0x71b583(0x120)]:!_0x26b27c[_0x71b583(0x135)]&&!_0x26b27c[_0x71b583(0x106)])||(_0x26b27c={'enumerable':!0x0,'get':function(){return _0x2f7d5b[_0x4035df];}}),Object['defineProperty'](_0x49a2b4,_0x522d16,_0x26b27c);}:function(_0x53bcd2,_0x6ab5f6,_0x4e3c88,_0x64f0f9){_0x53bcd2[_0x64f0f9=void 0x0===_0x64f0f9?_0x4e3c88:_0x64f0f9]=_0x6ab5f6[_0x4e3c88];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0xa5b5e5,_0x1a0156){var _0x27a84b=_0x34500d;Object[_0x27a84b(0x10e)](_0xa5b5e5,'default',{'enumerable':!0x0,'value':_0x1a0156});}:function(_0x542f2b,_0x201f4c){var _0x4171c5=_0x34500d;_0x542f2b[_0x4171c5(0x142)]=_0x201f4c;}),__importStar=this&&this[_0x34500d(0x123)]||function(_0x2baae2){var _0xd5d0d7=_0x34500d;if(_0x2baae2&&_0x2baae2[_0xd5d0d7(0x120)])return _0x2baae2;var _0x3048ce={};if(null!=_0x2baae2){for(var _0x4d598a in _0x2baae2)_0xd5d0d7(0x142)!==_0x4d598a&&Object[_0xd5d0d7(0x127)][_0xd5d0d7(0x116)][_0xd5d0d7(0x147)](_0x2baae2,_0x4d598a)&&__createBinding(_0x3048ce,_0x2baae2,_0x4d598a);}return __setModuleDefault(_0x3048ce,_0x2baae2),_0x3048ce;},__importDefault=this&&this[_0x34500d(0x14a)]||function(_0x24a88d){var _0x4f057f=_0x34500d;return _0x24a88d&&_0x24a88d[_0x4f057f(0x120)]?_0x24a88d:{'default':_0x24a88d};};Object['defineProperty'](exports,_0x34500d(0x120),{'value':!0x0}),exports['board']=void 0x0;const fs_extra_1=require('fs-extra'),path_1=require(_0x34500d(0x132)),vue_1=__importDefault(require('vue/dist/vue')),util_1=require(_0x34500d(0xff)),packageJSON=__importStar(require(_0x34500d(0x124))),common_1=require('./common'),blackboard_1=require(_0x34500d(0x100)),event_1=require('../../../utils/event'),blackboard=blackboard_1[_0x34500d(0x12c)][_0x34500d(0x141)]();exports[_0x34500d(0x113)]={'createBlackboard':function(_0x5b1a0f){var _0x4f0d9c=_0x34500d;return new vue_1[(_0x4f0d9c(0x142))]({'el':_0x5b1a0f,'template':(0x0,fs_extra_1[_0x4f0d9c(0x115)])((0x0,path_1[_0x4f0d9c(0x133)])(__dirname,_0x4f0d9c(0x12f)),_0x4f0d9c(0x131)),'data'(){return{'props':{'name':'','tooltip':'','type':''},'isEditing':!0x1};},'mounted'(){var _0xbc4f26=_0x4f0d9c;event_1['target']['on'](event_1[_0xbc4f26(0x108)]['MODIFY'],()=>{var _0x7ae2ff=_0xbc4f26;this[_0x7ae2ff(0x117)]();}),this[_0xbc4f26(0x103)]();},'methods':{async 'updatePropertyUUID'(){var _0x2cf2e7=_0x4f0d9c,_0x3c928a=this[_0x2cf2e7(0x105)]();for(let _0x536935=0x0;_0x536935<_0x3c928a[_0x2cf2e7(0x10d)];_0x536935++){let _0x13d976=_0x3c928a[_0x536935];this['isTypeNode'](_0x13d976['value'])&&_0x13d976['value']&&(_0x13d976[_0x2cf2e7(0x110)][_0x2cf2e7(0x132)]||_0x13d976[_0x2cf2e7(0x110)]['default']&&(_0x13d976[_0x2cf2e7(0x110)][_0x2cf2e7(0x132)]=await Editor['Message'][_0x2cf2e7(0x13d)]('scene',_0x2cf2e7(0x13b),{'name':packageJSON['name'],'method':_0x2cf2e7(0x126),'args':[_0x13d976[_0x2cf2e7(0x110)][_0x2cf2e7(0x142)]]})),_0x13d976[_0x2cf2e7(0x110)]['path']&&(_0x13d976[_0x2cf2e7(0x110)][_0x2cf2e7(0x142)]=await Editor[_0x2cf2e7(0x119)][_0x2cf2e7(0x13d)](_0x2cf2e7(0x134),_0x2cf2e7(0x13b),{'name':packageJSON[_0x2cf2e7(0x11e)],'method':_0x2cf2e7(0xfc),'args':[_0x13d976[_0x2cf2e7(0x110)]['path']]})));}this['$forceUpdate']();},'isTypeString'(_0x52249d){var _0x5460cd=_0x4f0d9c;return common_1[_0x5460cd(0x122)][_0x5460cd(0x129)](_0x52249d);},'isTypeNumber'(_0x1d74ad){var _0x141127=_0x4f0d9c;return common_1[_0x141127(0x122)][_0x141127(0x12d)](_0x1d74ad);},'isTypeBoolean'(_0x4da660){var _0x5153c0=_0x4f0d9c;return common_1[_0x5153c0(0x122)][_0x5153c0(0x11a)](_0x4da660);},'isTypeNode'(_0x50b25b){var _0x2e0f96=_0x4f0d9c;return common_1['common'][_0x2e0f96(0x114)](_0x50b25b);},'isTypeBlackboard'(_0xa1cd88){var _0x28e285=_0x4f0d9c;return common_1['common'][_0x28e285(0x137)](_0xa1cd88);},'getSharedNodeUUID'(_0x4ee3f9){var _0x229ce3=_0x4f0d9c;return _0x4ee3f9[_0x229ce3(0x142)]=util_1[_0x229ce3(0x13f)]['getNodeUUID'](_0x4ee3f9[_0x229ce3(0x142)]),(!_0x4ee3f9[_0x229ce3(0x142)]||!_0x4ee3f9['path'])&&_0x4ee3f9[_0x229ce3(0x132)]?void this[_0x229ce3(0x104)](_0x4ee3f9):_0x4ee3f9[_0x229ce3(0x142)];},async '_getSharedNodeUUID'(_0x245e14){var _0x48d8e1=_0x4f0d9c;_0x245e14[_0x48d8e1(0x132)]&&(_0x245e14[_0x48d8e1(0x142)]=await Editor['Message']['request']('scene',_0x48d8e1(0x13b),{'name':packageJSON['name'],'method':_0x48d8e1(0xfc),'args':[_0x245e14[_0x48d8e1(0x132)]]}),this[_0x48d8e1(0x117)]());},'getBlackboardAllType'(){var _0x4dfdc4=_0x4f0d9c;return common_1[_0x4dfdc4(0x122)]['getBlackboardAllType']();},'getVariableTooltip'(_0x4ebd95){var _0x50ebc8=_0x4f0d9c;return _0x4ebd95['tooltip']?'[\x20'+_0x4ebd95['name']+_0x50ebc8(0x148)+_0x4ebd95[_0x50ebc8(0x140)]:'[\x20'+_0x4ebd95[_0x50ebc8(0x11e)]+'\x20]';},'onChangeName'(_0x19dbea){var _0x26b17b=_0x4f0d9c;this[_0x26b17b(0x107)][_0x26b17b(0x11e)]=_0x19dbea[_0x26b17b(0x11d)][_0x26b17b(0x110)];},'onChangeDescription'(_0xf54b5d){var _0x3eeb22=_0x4f0d9c;this[_0x3eeb22(0x107)]['tooltip']=_0xf54b5d[_0x3eeb22(0x11d)]['value'];},'onValueChange'(_0x585263,_0xe58cd6,_0x15901f){var _0x1a5b04=_0x4f0d9c;_0x15901f[_0x1a5b04(0x110)][_0x1a5b04(0x142)]=_0x585263[_0x1a5b04(0x11d)][_0x1a5b04(0x110)];},'onNodeValueChange'(_0x44e07b,_0x2dbbdf,_0x522036){var _0x69293b=_0x4f0d9c;blackboard[_0x69293b(0x102)](),this[_0x69293b(0xfe)](_0x44e07b,_0x2dbbdf,_0x522036);},async '_onNodeValueChange'(_0x289407,_0x20d2ce,_0x596d36){var _0x10b3b8=_0x4f0d9c;util_1[_0x10b3b8(0x13f)]['log'](_0x10b3b8(0x130),_0x20d2ce,_0x289407[_0x10b3b8(0x11d)][_0x10b3b8(0x110)]);var _0x20d2ce=_0x289407[_0x10b3b8(0x11d)][_0x10b3b8(0x110)],_0x3cc6a6=await Editor[_0x10b3b8(0x119)][_0x10b3b8(0x13d)](_0x10b3b8(0x134),_0x10b3b8(0x13b),{'name':packageJSON[_0x10b3b8(0x11e)],'method':_0x10b3b8(0x126),'args':[_0x20d2ce]});if(!_0x3cc6a6)return _0x289407[_0x10b3b8(0x11d)][_0x10b3b8(0x110)]='',console['warn'](_0x10b3b8(0x101)),void this[_0x10b3b8(0x117)]();_0x596d36[_0x10b3b8(0x110)][_0x10b3b8(0x142)]=_0x20d2ce,_0x596d36[_0x10b3b8(0x110)]['path']=_0x3cc6a6;},'onSelectType'(_0x587d04){var _0x387085=_0x4f0d9c;this[_0x387085(0x107)]['type']=_0x587d04[_0x387085(0x11d)][_0x387085(0x110)];},'getAllVariable'(){return blackboard['getAllVariable']();},'onAddVariable'(){var _0xc86d95=_0x4f0d9c,_0x162e0a;this[_0xc86d95(0x107)][_0xc86d95(0x11e)]&&this[_0xc86d95(0x107)][_0xc86d95(0x11f)]?(_0x162e0a=this['getVariable'](),blackboard[_0xc86d95(0x138)](_0x162e0a)?this[_0xc86d95(0x145)]():null!=(_0x162e0a=window[_0xc86d95(0x118)][_0xc86d95(0x121)]['message'])&&_0x162e0a[_0xc86d95(0x13c)]({'content':'Variable\x20already\x20exists.\x20name\x20=\x20'+this[_0xc86d95(0x107)]['name'],'duration':0x3})):null!=(_0x162e0a=window[_0xc86d95(0x118)][_0xc86d95(0x121)][_0xc86d95(0x10a)])&&_0x162e0a['warning']({'content':_0xc86d95(0x144),'duration':0x3});},'onDelVariable'(_0x1f04ca){var _0x5f2060=_0x4f0d9c;this['props'][_0x5f2060(0x11e)]==_0x1f04ca[_0x5f2060(0x11e)]&&this[_0x5f2060(0x11c)](),blackboard[_0x5f2060(0x139)](_0x1f04ca);},'onEditVariable'(_0x272d06){var _0x5d31f7=_0x4f0d9c;this['props'][_0x5d31f7(0x11e)]=_0x272d06[_0x5d31f7(0x11e)],this[_0x5d31f7(0x107)][_0x5d31f7(0x11f)]=_0x272d06['value'][_0x5d31f7(0x125)],this[_0x5d31f7(0x107)]['tooltip']=_0x272d06[_0x5d31f7(0x140)],this[_0x5d31f7(0x10c)]=!0x0;},'onApplyEditing'(){var _0x5a305b=_0x4f0d9c,_0x55d38f=this[_0x5a305b(0x12a)]();blackboard[_0x5a305b(0x143)](_0x55d38f),this['onCancelEditing']();},'onCancelEditing'(){var _0x542090=_0x4f0d9c;this[_0x542090(0x10c)]=!0x1,this[_0x542090(0x145)]();},'getVariable'(){var _0x2b13b3=_0x4f0d9c;return{'name':this[_0x2b13b3(0x107)]['name'],'tooltip':this['props']['tooltip'],'value':{'default':common_1[_0x2b13b3(0x122)][_0x2b13b3(0x10b)](this[_0x2b13b3(0x107)][_0x2b13b3(0x11f)]),'TYPE':this[_0x2b13b3(0x107)][_0x2b13b3(0x11f)]}};},'resetProps'(){var _0x33dd0a=_0x4f0d9c;this[_0x33dd0a(0x107)][_0x33dd0a(0x11e)]='',this['props'][_0x33dd0a(0x11f)]='',this[_0x33dd0a(0x107)][_0x33dd0a(0x140)]='';},'getEditingHeader'(){var _0x49d05f=_0x4f0d9c;return this[_0x49d05f(0x10c)]?_0x49d05f(0x11b):'Create\x20Variable';}}});}};